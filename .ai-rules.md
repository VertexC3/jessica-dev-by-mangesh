# AI Development Rules & Guidelines
# Jessica Dev by Mangesh - Project Standards

## üö´ CRITICAL RESTRICTIONS

### **Code Modification Policy**
- **NEVER modify any codebase files without explicit user approval**
- **ALWAYS ask for permission before making changes to source code**
- **Only suggest changes, never implement them directly**
- **Exception**: Documentation files (.md) and configuration files can be updated for tracking purposes

### **File Types - Modification Rules**

#### ‚ùå **NEVER MODIFY WITHOUT APPROVAL:**
```
- *.js, *.jsx, *.ts, *.tsx (React/Next.js files)
- *.json (package.json, tsconfig.json, etc.)
- *.css, *.scss, *.module.css (styling files)
- *.sql (database scripts)
- *.env, *.env.* (environment files)
- Dockerfile, docker-compose.yml
- vercel.json, next.config.js
- Any file in /app, /components, /lib, /utils directories
```

#### ‚úÖ **MAY MODIFY FOR TRACKING:**
```
- *.md (documentation files)
- PROJECT-PROGRESS.md
- .ai-rules.md (this file)
- .gitignore (with approval for additions)
- README.md (with approval)
```

---

## üéØ DEVELOPMENT STANDARDS

### **Code Quality Requirements**
1. **Follow existing code patterns** - Match the established codebase style
2. **TypeScript compliance** - Maintain type safety
3. **React best practices** - Use hooks properly, avoid anti-patterns
4. **Next.js conventions** - Follow App Router patterns
5. **ESLint/Prettier** - Maintain code formatting standards

### **Database Standards**
1. **Schema integrity** - Never modify database structure without approval
2. **Migration safety** - All changes must be reversible
3. **Data validation** - Maintain referential integrity
4. **Performance** - Consider query optimization impact

### **Security Standards**
1. **Environment variables** - Never expose secrets in code
2. **API keys** - Always use environment variables
3. **CORS policies** - Maintain proper domain restrictions
4. **Input validation** - Sanitize all user inputs

---

## üìã WORKFLOW REQUIREMENTS

### **Before Making Suggestions**
1. **Analyze impact** - Consider downstream effects
2. **Check dependencies** - Identify what might break
3. **Review existing patterns** - Match current implementation style
4. **Consider alternatives** - Present multiple options when possible

### **When Suggesting Changes**
1. **Explain the why** - Provide clear reasoning
2. **Show code examples** - Include before/after comparisons
3. **Highlight risks** - Point out potential issues
4. **Estimate effort** - Indicate complexity level

### **Documentation Requirements**
1. **Update progress tracking** - Keep PROJECT-PROGRESS.md current
2. **Document decisions** - Record why changes were made
3. **Track issues** - Log problems and solutions
4. **Version changes** - Note what was modified and when

---

## üîç TESTING & VALIDATION

### **Before Recommending Changes**
1. **Test compatibility** - Ensure changes work with existing code
2. **Check dependencies** - Verify no breaking changes
3. **Validate syntax** - Ensure code will compile/run
4. **Review performance** - Consider impact on app speed

### **After Changes Are Made**
1. **Verify functionality** - Test that features still work
2. **Check console errors** - Ensure no new errors introduced
3. **Test database connections** - Verify data operations work
4. **Validate UI/UX** - Ensure interface remains functional

---

## üöÄ DEPLOYMENT CONSIDERATIONS

### **Pre-deployment Checklist**
1. **Environment variables** - All required keys configured
2. **Build success** - Code compiles without errors
3. **Database migrations** - Schema changes applied correctly
4. **API endpoints** - All routes functional
5. **Error handling** - Proper error messages and fallbacks

### **Production Readiness**
1. **Performance optimization** - Code is efficient
2. **Security hardening** - No exposed secrets or vulnerabilities
3. **Monitoring setup** - Logging and analytics configured
4. **Backup strategy** - Data protection measures in place

---

## üí° COMMUNICATION GUIDELINES

### **When Asking for Approval**
```markdown
## Proposed Change: [Brief Description]

**Files to modify:**
- path/to/file.js (lines 10-20)
- path/to/another.jsx (new component)

**Reasoning:**
- Explain why this change is needed

**Impact:**
- What will this affect?
- Any breaking changes?

**Testing plan:**
- How to verify the change works

**Rollback plan:**
- How to undo if needed
```

### **Progress Updates**
1. **Regular status** - Update PROJECT-PROGRESS.md frequently
2. **Clear milestones** - Mark completed tasks
3. **Issue tracking** - Document problems encountered
4. **Decision logging** - Record important choices made

---

## üõ†Ô∏è TOOLS & COMMANDS

### **Safe Commands (No Approval Needed)**
```bash
# Information gathering
ls, cat, head, tail, find, grep
npm list, npm run, npm test
git status, git log, git diff
supabase status, supabase projects list

# Documentation
echo "text" >> file.md
updating .md files
```

### **Dangerous Commands (REQUIRE APPROVAL)**
```bash
# File modifications
rm, mv, cp (for code files)
npm install (new packages)
npm uninstall
git commit, git push

# Database operations
supabase db reset
supabase db push
psql commands that modify data

# System changes
sudo commands
chmod, chown
brew install (major packages)
```

---

## üìä PROJECT-SPECIFIC RULES

### **Jessica Dev by Mangesh Specific**
1. **Chatbot ID consistency** - Maintain `fb0b48ba-9449-4e83-bc51-43e2651e3e16` reference
2. **Supabase project** - Always use `fphbxbricinstdwqvafw` project
3. **Environment variables** - Keep .env.local pattern intact
4. **Vector dimensions** - Maintain 1536-dimension embeddings (OpenAI standard)
5. **Sample data integrity** - Preserve Teleperson Concierge chatbot setup

### **Architecture Consistency**
1. **App Router structure** - Follow Next.js 13+ patterns
2. **Component organization** - Maintain existing folder structure
3. **API route patterns** - Follow established conventions
4. **Database naming** - Keep current schema naming conventions

---

## ‚ö†Ô∏è EMERGENCY PROCEDURES

### **If Something Breaks**
1. **STOP immediately** - Don't make additional changes
2. **Document the issue** - Record what happened
3. **Check git status** - Identify what changed
4. **Ask for guidance** - Don't attempt fixes without approval
5. **Prepare rollback** - Be ready to undo changes

### **Before Major Changes**
1. **Create backup** - Snapshot current working state
2. **Document baseline** - Record what currently works
3. **Plan rollback strategy** - Know how to undo
4. **Test in isolation** - Verify changes work independently

---

## üìû ESCALATION PATH

### **When to Ask for Help**
- Any code modification needed
- Database schema changes
- New package installations
- Configuration file updates
- Deployment-related changes
- Security-related modifications

### **How to Present Issues**
1. **Clear problem statement** - What's not working?
2. **Steps to reproduce** - How to see the issue?
3. **Current behavior** - What happens now?
4. **Expected behavior** - What should happen?
5. **Proposed solution** - What do you recommend?

---

## üîÑ REVIEW & UPDATE

This file should be updated when:
- New project requirements emerge
- Development patterns change
- Security policies evolve
- Team workflow adjustments needed

**Last updated:** January 13, 2025
**Version:** 1.0
**Next review:** When major changes to project occur

---

*These rules ensure consistent, safe, and professional development practices for the Jessica Dev by Mangesh project.*
